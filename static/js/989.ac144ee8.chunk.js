"use strict";(self.webpackChunkmy_notes=self.webpackChunkmy_notes||[]).push([[989],{6989:function(n,e,t){t.r(e),t.d(e,{default:function(){return Vn}});var o,r,i,a,c,s,d,l,u,p,x,g,f=t(9439),h=t(8396),b=t(168),m=t(7933),Z=t(5034),v=t(407),y=(0,m.Z)("div")(v.cp,v.Dh,v.$_,v.bK,v.Cg,v.AF,v.GQ,v.FK),w=(0,m.Z)(Z.Z)(o||(o=(0,b.Z)(["\n  display: flex;\n  column-gap: 8px;\n  padding: 60px 8px 40px 8px;\n  width: auto;  \n"]))),j=t(2791),k=t(7689),N=t(1413),C=t(3433),T=t(5984),z=t(2058),S=t(828),D=t(6355),E=t(6856),_=t(7213),I=(0,m.Z)(_.t.Item)(r||(r=(0,b.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 4px 8px;\n\n  transition: background-color 250ms linear;\n\n  :hover {\n    background-color: lightgrey;\n  }\n\n  :not(:last-child) {\n    border-bottom: 1px solid lightgrey;\n  }\n"]))),L=m.Z.label(i||(i=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  margin-left: 8px;\n"]))),F=m.Z.input(a||(a=(0,b.Z)(["\n  display: none;\n\n  :checked + button {\n    color: grey;\n  }\n  :checked ~ span {\n    text-decoration: line-through grey 2px;\n    color: grey;\n  }\n"]))),A=m.Z.button(c||(c=(0,b.Z)(["\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  width: 20px;\n  height: 30px;\n  padding: 0;\n  color: green;\n"]))),U=m.Z.span(s||(s=(0,b.Z)(["\n  max-width: 220px;\n  margin-left: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  color: #212121;\n  word-wrap: break-word;\n"]))),M=m.Z.button(d||(d=(0,b.Z)(["\n  /* margin-left: auto; */\n  border: none;\n  background-color: transparent;\n  width: 20px;\n  height: 30px;\n  padding: 0;\n  color: grey;\n\n  transition: color 250ms linear;\n\n  :hover.active {\n    color: #212121;\n    cursor: pointer;\n  }\n"]))),O=m.Z.button(l||(l=(0,b.Z)(["\n  cursor: pointer;\n  margin-left: 8px;\n  border: none;\n  background-color: transparent;\n  width: 20px;\n  height: 30px;\n  padding: 0;\n  color: grey;\n\n  transition: color 250ms linear;\n\n  :hover {\n    color: red;\n  }\n"]))),R=m.Z.form(u||(u=(0,b.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  top: 0;\n  left: 0;\n  padding: 0 8px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  background-color: lightgrey;\n  box-sizing: border-box;\n"]))),B=m.Z.input(p||(p=(0,b.Z)(["\n  flex-grow: 1;\n  font-weight: 600;\n  background-color: transparent;\n"]))),K=m.Z.button(x||(x=(0,b.Z)(["\n  cursor: pointer;\n  margin-left: 20px;\n  border: none;\n  background-color: transparent;\n  color: grey;\n\n  transition: color 250ms linear;\n\n  :hover {\n    color: #212121;\n  }\n"]))),P=t(184);function G(n){var e=n.textToUpdate,t=n.saveTodo,o=n.cancelEdit,r=(0,j.useState)(e),i=(0,f.Z)(r,2),a=i[0],c=i[1];(0,j.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(n){"Escape"===n.code&&o()};return(0,P.jsxs)(R,{onSubmit:function(n){n.preventDefault(),t(a)},children:[(0,P.jsx)(B,{type:"text",name:"newText",value:a,onChange:function(n){c(n.currentTarget.value)},autoComplete:"off"}),(0,P.jsx)(K,{type:"submit","aria-label":"Save task",children:(0,P.jsx)(D.TvB,{size:"20"})})]})}function H(n){var e=n.todo,t=n.completeTodo,o=n.editTodo,r=n.deleteTodo,i=(0,j.useState)(!1),a=(0,f.Z)(i,2),c=a[0],s=a[1],d=(0,z.o)(),l=e.id,u=e.text,p=e.completed,x=function(){s(!c)};return(0,P.jsxs)(I,{value:e,dragListener:!1,dragControls:d,children:[(0,P.jsx)(y,{onPointerDown:function(n){return d.start(n)},children:(0,P.jsx)(D.U9V,{size:"18",cursor:"grab",color:"#212121"})}),(0,P.jsxs)(L,{children:[(0,P.jsx)(F,{type:"checkbox",checked:!!p,readOnly:!0}),(0,P.jsx)(A,{onClick:function(){t(l)},"aria-label":"Complete task",children:p?(0,P.jsx)(D.l_A,{size:"18"}):(0,P.jsx)(D.Rdr,{size:"18"})}),(0,P.jsx)(U,{children:u})]}),(0,P.jsxs)(y,{ml:"auto",pl:2,display:"flex",children:[(0,P.jsx)(M,{type:"button","aria-label":"Edit task",onClick:x,disabled:!!p,className:p?"":"active",children:(0,P.jsx)(E.zmo,{size:"18"})}),(0,P.jsx)(O,{type:"button","aria-label":"Delete task",onClick:function(){r(l)},children:(0,P.jsx)(S.sQZ,{})})]}),c&&(0,P.jsx)(G,{saveTodo:function(n){x(),o(l,n)},textToUpdate:u,cancelEdit:x})]})}var J,Q,$,q=(0,m.Z)(_.t.Group)(g||(g=(0,b.Z)(["\n  display: grid;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n"])));function V(n){var e=n.todos,t=n.setTodos,o=n.completeTodo,r=n.editTodo,i=n.deleteTodo;return(0,P.jsx)(q,{axis:"y",values:e,onReorder:t,children:e.map((function(n){return(0,P.jsx)(H,{todo:n,completeTodo:o,editTodo:r,deleteTodo:i},n.id)}))})}var W,X,Y,nn,en,tn,on,rn,an,cn,sn=m.Z.form(J||(J=(0,b.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 8px 16px;\n    margin: 0;\n    border-bottom: 1px solid grey;\n    background-color: transparent;\n"]))),dn=m.Z.input(Q||(Q=(0,b.Z)(["\n    padding: 4px;\n    border: none;\n    background-color: transparent;\n\n    :focus-visible {\n      outline: none;\n    }\n"]))),ln=m.Z.button($||($=(0,b.Z)(["\n  cursor: pointer;\n  /* margin-left: auto; */\n  border: none;\n  background-color: transparent;\n  color: grey;\n\n  transition: color 250ms linear;\n\n  :hover {\n    color: #212121;\n  }\n"]))),un=function(n){var e=n.onSubmit,t=n.bcgNoteColor,o=(0,j.useState)(""),r=(0,f.Z)(o,2),i=r[0],a=r[1];return(0,P.jsx)(y,{bg:t,children:(0,P.jsxs)(sn,{onSubmit:function(n){n.preventDefault(),a(""),e(i)},children:[(0,P.jsx)(E.wL,{size:"24"}),(0,P.jsx)(dn,{type:"text",name:"text",value:i,onChange:function(n){a(n.currentTarget.value)},placeholder:"New task"}),(0,P.jsx)(ln,{type:"submit","aria-label":"Add task",children:(0,P.jsx)(E.NcC,{size:"20"})})]})})},pn=t(2554),xn=t(7845),gn=(0,pn.F4)(W||(W=(0,b.Z)(["",""])),xn.Ji),fn=((0,pn.F4)(X||(X=(0,b.Z)(["",""])),xn.U6),m.Z.div(Y||(Y=(0,b.Z)(["\n  position: relative;\n  cursor: ",";\n"])),(function(n){return n.draggable?"grab":"default"}))),hn=m.Z.div(nn||(nn=(0,b.Z)(["\n  background-color: white;\n  max-width: 360px;\n  margin-bottom: 8px;\n  border: 1px solid grey;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);\n\n  animation: "," 500ms;\n"])),gn),bn=m.Z.h2(en||(en=(0,b.Z)(["\n  font-size: 16px;\n"]))),mn=m.Z.button(tn||(tn=(0,b.Z)(["\n  margin-left: 8px;\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  color: white;\n\n  transition: color 250ms linear;\n\n  :hover {\n    color: grey;\n  }\n"]))),Zn=m.Z.button(on||(on=(0,b.Z)(["\n  cursor: pointer;\n  margin-left: 8px;\n  border: none;\n  background-color: transparent;\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  color: white;\n\n  transition: color 250ms linear;\n\n  :hover {\n    color: grey;\n  }\n"]))),vn=m.Z.form(rn||(rn=(0,b.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  top: 0;\n  left: 0;\n  padding: 0 8px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  background-color: lightgrey;\n  box-sizing: border-box;\n"]))),yn=m.Z.input(an||(an=(0,b.Z)(["\n  font-size: 16px;\n  font-weight: 700;\n  background-color: transparent;\n  color: white;\n"]))),wn=m.Z.button(cn||(cn=(0,b.Z)(["\n  cursor: pointer;\n  /* margin-left: 20px; */\n  border: none;\n  background-color: transparent;\n  color: grey;\n\n  transition: color 250ms linear;\n\n  :hover {\n    color: #212121;\n  }\n"])));function jn(n){var e=n.nameToUpdate,t=n.saveNoteName,o=n.cancelEdit,r=(0,j.useState)(e),i=(0,f.Z)(r,2),a=i[0],c=i[1];(0,j.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(n){"Escape"===n.code&&o()};return(0,P.jsxs)(vn,{onSubmit:function(n){n.preventDefault(),t(a)},children:[(0,P.jsx)(yn,{type:"text",name:"newName",value:a,onChange:function(n){c(n.currentTarget.value)},autoComplete:"off"}),(0,P.jsx)(wn,{type:"submit","aria-label":"Save task",children:(0,P.jsx)(D.TvB,{size:"20"})})]})}var kn,Nn,Cn,Tn,zn,Sn=(0,j.createContext)(),Dn=t(2475),En=t(4164),_n=m.Z.div(kn||(kn=(0,b.Z)(["\n  position: fixed;\n  padding-top: 8px;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n\n  animation: "," 500ms;\n"])),gn),In=m.Z.div(Nn||(Nn=(0,b.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Ln=document.querySelector("#modal-root");function Fn(n){var e=n.onClose,t=n.children;(0,j.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(n){"Escape"===n.code&&e()};return(0,En.createPortal)((0,P.jsx)(_n,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,P.jsx)(In,{children:t})}),Ln)}var An=m.Z.form(Cn||(Cn=(0,b.Z)(["\n  width: 300px;\n  padding: 16px;\n  text-align: center;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);\n"]))),Un=m.Z.p(Tn||(Tn=(0,b.Z)(["\n  color: #212112;\n"]))),Mn=m.Z.button(zn||(zn=(0,b.Z)(["\n  padding: 4px;\n  color: #212112;\n  font-weight: 700;\n  border-radius: 4px;\n\n  transition: box-shadow 250ms linear;\n\n  :hover {\n    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);    \n  }\n"])));function On(n){var e=n.onFormSubmit,t=n.toggleConfirm,o=n.name;return(0,P.jsxs)(An,{onSubmit:function(n){n.preventDefault(),e()},children:[(0,P.jsxs)(Un,{children:["Delete note ",(0,P.jsx)("b",{children:o}),"?"]}),(0,P.jsxs)(y,{mt:3,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(Mn,{type:"button","aria-label":"Cancel",onClick:t,children:"Cancel"}),(0,P.jsx)(Mn,{type:"submit","aria-label":"Delete note",children:"DELETE"})]})]})}var Rn,Bn,Kn,Pn=t(5668);function Gn(n){var e=n.note,t=n.idx,o=n.isDraggingNote,r=n.setIsDraggingNote,i=n.dragNotes,a=(0,j.useState)(e.todos),c=(0,f.Z)(a,2),s=c[0],d=c[1],l=(0,j.useState)(e.color),u=(0,f.Z)(l,2),p=u[0],x=u[1],g=(0,j.useState)(!1),h=(0,f.Z)(g,2),b=h[0],m=h[1],Z=(0,j.useState)(!1),v=(0,f.Z)(Z,2),w=v[0],k=v[1],z=(0,j.useState)(!1),S=(0,f.Z)(z,2),D=S[0],_=S[1],I=(0,j.useContext)(Sn).dispatch,L=e.color+"55",F=(0,j.useRef)(!0);(0,j.useEffect)((function(){F.current?F.current=!1:(I({type:"editNoteTodos",noteId:e._id,newTodos:s}),(0,Pn.Bk)(e._id,s))}),[I,e._id,s]);var A=function(){_(!D)},U=function(){m(!b)};return(0,P.jsx)(fn,{draggable:!!i,onDragStart:function(n){return function(n,e,t){r(e)}(0,e)},onDragOver:function(n){return function(n){n.preventDefault()}(n)},onDrop:function(n){return function(n,e){n.preventDefault(),I({type:"editNoteOrder",idx:e,isDraggingNote:o})}(n,t)},children:(0,P.jsxs)(hn,{children:[w&&(0,P.jsx)(y,{position:"absolute",top:"0",left:"0",zIndex:"200",children:(0,P.jsx)(Dn.gW,{color:p,onChange:function(n){x(n),I({type:"editNoteColor",noteId:e._id,newColor:p})}})}),(0,P.jsxs)(y,{bg:e.color,py:2,px:2,textAlign:"center",color:"white",display:"flex",justifyContent:"space-between",position:"relative",children:[(0,P.jsx)(bn,{children:e.name}),(0,P.jsxs)(y,{ml:"auto",display:"flex",children:[(0,P.jsx)(mn,{type:"button","aria-label":"Edit color",onClick:function(){k(!w),w&&(0,Pn.z0)(e._id,p)},children:(0,P.jsx)(E.X5H,{size:"20"})}),(0,P.jsx)(mn,{type:"button","aria-label":"Edit note",onClick:U,children:(0,P.jsx)(E.mM_,{size:"20"})}),(0,P.jsx)(Zn,{type:"button",onClick:function(){return _(!0)},"aria-label":"Delete note",children:(0,P.jsx)(E.FH3,{size:"20"})})]}),b&&(0,P.jsx)(jn,{saveNoteName:function(n){U(),I({type:"editNoteName",noteId:e._id,newName:n}),(0,Pn.nJ)(e._id,n)},nameToUpdate:e.name,cancelEdit:U}),D&&(0,P.jsx)(Fn,{onClose:A,children:(0,P.jsx)(On,{onFormSubmit:function(){return function(n){(0,Pn.f_)(n).then((function(n){I({type:"deleteNote",noteId:n._id})})).catch((function(n){return console.log(n)}))}(e)},toggleConfirm:A,name:e.name})})]}),(0,P.jsx)(un,{onSubmit:function(n){if(""!==n.trim()){var e={id:(0,T.x0)(4),text:n,completed:!1};d([e].concat((0,C.Z)(s)))}},bcgNoteColor:L}),(0,P.jsx)(V,{todos:s,setTodos:d,deleteTodo:function(n){d(s.filter((function(e){return e.id!==n})))},editTodo:function(n,e){d(s.map((function(t){return t.id===n?(0,N.Z)((0,N.Z)({},t),{},{text:e}):t})))},completeTodo:function(n){d((function(e){return e.map((function(e){return e.id===n?(0,N.Z)((0,N.Z)({},e),{},{completed:!e.completed}):e}))}))}})]})})}var Hn=m.Z.button(Rn||(Rn=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  cursor: pointer;\n  height: 32px;\n  border: 1px solid grey;\n  border-radius: 16px;\n  background-color: lightgrey;\n  color: grey;\n  font-size: 14px;\n  font-weight: 600;\n  box-shadow: none;\n\n  transition: box-shadow 250ms linear, color 250ms linear,\n    background-color 250ms linear;\n\n  :hover {\n    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);\n    color: #212121;\n    background-color: white;\n  }\n"])));m.Z.label(Bn||(Bn=(0,b.Z)(["\n  padding: 0 4px;\n  display: flex;\n  align-items: center;\n  margin-left: 8px;\n  gap: 8px;\n  height: 32px;\n  cursor: pointer;\n  color: ",";\n  font-size: 14px;\n  font-weight: 600;\n  border: 1px solid grey;\n  border-radius: 16px;\n  background-color: ",";\n  transition: box-shadow 250ms linear, color 250ms linear,\n    background-color 250ms linear;\n\n  :hover {\n    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.6);\n    color: #212121;\n    background-color: white;\n  }\n"])),(function(n){return n.checked?"#212121":"grey"}),(function(n){return n.checked?"white":"lightgrey"})),m.Z.input(Kn||(Kn=(0,b.Z)(["\n  cursor: pointer;\n"])));function Jn(){var n=Math.floor(16777215*Math.random()).toString(16),e=5===n.length?n+"0":n;return"#".concat(e)}function Qn(n){n.dragNotes,n.toggleDragNotes;var e=(0,j.useContext)(Sn).dispatch,t={name:"New note",todos:[],color:Jn()};return(0,P.jsx)(y,{display:"flex",children:(0,P.jsxs)(Hn,{type:"button",onClick:function(){(0,Pn.AL)(t).then((function(n){e({type:"addNote",newNote:n})})).catch((function(n){return console.log(n)}))},children:["Add Note ",(0,P.jsx)(E.OrI,{size:"24"})]})})}var $n=function(n,e){switch(e.type){case"getNotes":if(!e.notes)return;return(0,C.Z)(e.notes);case"addNote":var t=(0,N.Z)({},e.newNote);return[].concat((0,C.Z)(n),[t]);case"editNoteTodos":return n.map((function(n){return n._id===e.noteId?(0,N.Z)((0,N.Z)({},n),{},{todos:e.newTodos}):n}));case"deleteNote":return n.filter((function(n){return n._id!==e.noteId}));case"editNoteName":return n.map((function(n){return n._id===e.noteId?(0,N.Z)((0,N.Z)({},n),{},{name:e.newName}):n}));case"editNoteColor":return n.map((function(n){return n._id===e.noteId?(0,N.Z)((0,N.Z)({},n),{},{color:e.newColor}):n}));case"editNoteOrder":var o=e.isDraggingNote;return(n=n.filter((function(n){return n._id!==o._id}))).splice(e.idx,0,o),n;default:return n}},qn=t(3e3);function Vn(n){var e=n.user,t=n.isLoggedIn,o=n.setIsLoggedIn,r=n.setToken,i=(0,j.useReducer)($n,[]),a=(0,f.Z)(i,2),c=a[0],s=a[1];(0,j.useEffect)((function(){(0,Pn.Kk)().then((function(n){s({type:"getNotes",notes:n})})).catch((function(n){return console.log(n.message)}))}),[]);var d=(0,j.useState)(null),l=(0,f.Z)(d,2),u=l[0],p=l[1],x=(0,j.useState)(!1),g=(0,f.Z)(x,2),b=g[0],m=g[1];return(0,P.jsxs)(P.Fragment,{children:[!t&&(0,P.jsx)(k.Fg,{to:"/"}),(0,P.jsxs)(Sn.Provider,{value:{dispatch:s},children:[(0,P.jsxs)(h.h4,{children:[(0,P.jsxs)(h.Yz,{children:[(0,P.jsx)(h.My,{children:"My"}),"Notes"]}),(0,P.jsxs)(y,{display:"flex",alignItems:"center",children:[e&&(0,P.jsx)(h.vx,{children:e}),(0,P.jsx)(Hn,{type:"button",onClick:function(){(0,Pn.kS)().then((function(n){o(!1),r(null)})).catch((function(n){return console.log(n.message)}))},children:"Logout"})]})]}),(0,P.jsx)(w,{breakpointCols:{default:7,2163:6,1855:5,1547:4,1239:3,931:2,623:1},children:c.map((function(n,e){return(0,P.jsx)(Gn,{idx:e,note:n,isDraggingNote:u,setIsDraggingNote:p,dragNotes:b},n._id)}))}),(0,P.jsx)(qn.$,{children:(0,P.jsx)(Qn,{toggleDragNotes:function(){m(!b)},dragNotes:b})})]})]})}}}]);
//# sourceMappingURL=989.ac144ee8.chunk.js.map